<!DOCTYPE html>
<html lang="en"><head>
<script src="7_1_GMM_review_files/libs/clipboard/clipboard.min.js"></script>
<script src="7_1_GMM_review_files/libs/quarto-html/tabby.min.js"></script>
<script src="7_1_GMM_review_files/libs/quarto-html/popper.min.js"></script>
<script src="7_1_GMM_review_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="7_1_GMM_review_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="7_1_GMM_review_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="7_1_GMM_review_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="7_1_GMM_review_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.433">

  <meta name="author" content="Diego S. Cardoso">
  <title>AGEC 652 - Lecture 7.1</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="7_1_GMM_review_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="7_1_GMM_review_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="7_1_GMM_review_files/libs/revealjs/dist/theme/quarto.css">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="7_1_GMM_review_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">AGEC 652 - Lecture 7.1</h1>
  <p class="subtitle">GMM: Theory review</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Diego S. Cardoso 
</div>
        <p class="quarto-title-affiliation">
            Purdue University
          </p>
    </div>
</div>

</section>
<section id="course-roadmap" class="slide level2" data-background-color="gold">
<h2>Course Roadmap</h2>
<ol type="1">
<li><span class="gray">Introduction to Scientific Computing</span></li>
<li><span class="gray">Fundamentals of numerical methods</span></li>
<li><span class="gray">Systems of equations</span></li>
<li><span class="gray">Optimization</span></li>
<li><span class="gray">Structural estimation: Intro</span></li>
<li><span class="gray">Maximum Likelihood Estimator</span></li>
<li><strong>Generalized Method of Moments</strong></li>
<li>Simulation-based methods</li>
</ol>
</section>
<section id="main-references-for-today" class="slide level2" data-background-color="gold">
<h2>Main references for today</h2>
<ul>
<li>Cameron &amp; Trivedi (2008), Greene (2018)</li>
<li>Course materials by Michael Delgado (Purdue), Matt Woerman (UMass) and Simon Quinn (Oxford)</li>
</ul>
</section>
<section>
<section id="intro-to-gmm" class="title-slide slide level1 center">
<h1>Intro to GMM</h1>

</section>
<section id="generalized-method-of-moments-in-one-slide" class="slide level2">
<h2>Generalized Method of Moments in one slide</h2>
<ol type="1">
<li>Our economic model defines the following population moment conditions: at the true parameter <span class="math inline">\(\theta_0\)</span>, <span class="math inline">\(g(x;\theta)\)</span> are on average equal to zero <span class="math display">\[E[g(x;\theta_0)] = 0\]</span></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>We observe some data <span class="math inline">\(x_i, i=1,\dots,N\)</span> and calculate sample analogue <span class="math display">\[E[g(x;\theta)] \approx \frac{1}{N} \sum_{i=1}^N g(x_i;\theta) \equiv g_N(\theta)\]</span></li>
</ol>
</div>
<div class="fragment">
<ol start="3" type="1">
<li>The GMM estimate is given by ( <span class="math inline">\(W_N\)</span> is a weighting matrix) <span class="math display">\[\hat{\theta}_{GMM} = \arg \min_\theta g_N(\theta)^\prime \; W_N \; g_N(\theta)\]</span></li>
</ol>
</div>
</section>
<section id="generalized-method-of-moments-intuition" class="slide level2">
<h2>(Generalized) Method of Moments intuition</h2>
<p>Suppose we draw five numbers from an unknown distribution <span class="math display">\[y = {47.3, 51.2, 50.5, 44.9, 53.1}\]</span></p>
<div class="fragment">
<p>Suppose this unknown distribution has mean <span class="math inline">\(\mu\)</span>, giving a population moment condition</p>
<p><span class="math display">\[E[y_i] = \mu \Rightarrow E[y_i - \mu] = 0\]</span></p>
</div>
<div class="fragment">
<p>We expect the population moment condition to also hold in the sample analogue</p>
<p><span class="math display">\[\frac{1}{N}\sum_{i=1}^N (y_i - \mu) = 0\]</span></p>
</div>
</section>
<section id="generalized-method-of-moments-intuition-1" class="slide level2">
<h2>(Generalized) Method of Moments intuition</h2>
<p>Forget the weighting matrix for now. We have one condition and one parameter, so this is effectively a special case: just <em>Method of Moments</em></p>
<div class="fragment">
<p>For our estimate, we pick <span class="math inline">\(\hat{\mu}\)</span> that minimizes</p>
<p><span class="math display">\[\left(\frac{1}{N}\sum_{i=1}^N (y_i - \hat{\mu})\right)^2 \]</span></p>
<p>In this simple case, this is just solving for <span class="math inline">\(\frac{1}{N}\sum_{i=1}^N (y_i - \hat{\mu}) = 0\)</span></p>
</div>
</section>
<section id="generalized-method-of-moments-example" class="slide level2">
<h2>Generalized Method of Moments example</h2>
<p>Linear regression: again, we have <span class="math inline">\(Y_{it} = X_i\beta + \epsilon_i\)</span>. But now, instead of normality, we assume <span class="math inline">\(\epsilon_i\)</span> is orthogonal to data <span class="math inline">\(X_i\)</span> (a <span class="math inline">\(1 \times K\)</span> vector) <span class="math display">\[E[x_{ki} \epsilon_i] = 0 \Rightarrow E[x_{ki} (Y_i - X_i\beta)] = 0\]</span></p>
<ul>
<li>This actually gives <span class="math inline">\(K\)</span> moment conditions: one for each variable <span class="math inline">\(x_{ki} \in X_i\)</span></li>
</ul>
<div class="fragment">
<p>We replace these <span class="math inline">\(K\)</span> conditions with their respective sample analogues and solve for</p>
<p><span class="math display">\[\frac{1}{N}\sum_{i=1}^N x_{ki} (Y_i - X_i \hat{\beta}) = 0\]</span></p>
</div>
<div class="fragment">
<ul>
<li>We can show that this solution is analytically equivalent to OLS, too</li>
</ul>
</div>
</section></section>
<section>
<section id="gmm-theory" class="title-slide slide level1 center">
<h1>GMM theory</h1>

</section>
<section id="gmm-general-case" class="slide level2">
<h2>GMM: General case</h2>
<ol type="1">
<li>Start with data <span class="math inline">\(z_1, \dots, z_N\)</span> drawn from a population with <span class="math inline">\(M\)</span> moment conditions that are functions of vector <span class="math inline">\(\theta\)</span> with <span class="math inline">\(K \leq M\)</span> parameters<sup>1</sup> <span class="math display">\[E[g(Z; \theta)] = 0\]</span></li>
</ol>
<div class="fragment">
<p>Where do moment conditions come from?</p>
<ul>
<li>Economic model conditions: first-order optimality, market clearing, zero arbitrage, etc</li>
<li>Statistical assumptions: error orthogonality <span class="math inline">\((E[x\epsilon]=0)\)</span></li>
<li>Instruments orthogonality <span class="math inline">\((E[z\epsilon]=0)\)</span></li>
<li>Model fit: predicted market shares are equal to realized market shares</li>
</ul>
</div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>The “generalized” in GMM comes from allowing more moment conditions than parameters; the “standard” Method of Moments requires M=K</p></li></ol></aside></section>
<section id="gmm-general-case-1" class="slide level2">
<h2>GMM: General case</h2>
<ol start="2" type="1">
<li>Construct empirical (sample analogue) moment conditions <span class="math display">\[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta) = 0\]</span></li>
</ol>
</section>
<section id="gmm-general-case-2" class="slide level2">
<h2>GMM: General case</h2>
<ol start="3" type="1">
<li>Compute the GMM estimate</li>
</ol>
<p><span class="math display">\[\hat{\theta}_{GMM} = \arg \min_\theta Q_N(\theta), \; Q_N(\theta) = \left[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta)\right]^\prime W \left[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta)\right]\]</span></p>
<div class="fragment">
<ul>
<li>If <span class="math inline">\(M = K\)</span> and the problem is well-conditioned, then <span class="math inline">\(\frac{1}{N} \sum_{i=1}^N g(z_i; \theta) = 0\)</span> is <span class="math inline">\(K\times K\)</span> (non)linear system and we can find the <span class="math inline">\(\hat{\theta}\)</span> that solves it</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>But if <span class="math inline">\(M &gt; K\)</span>, we almost certainly can’t find <span class="math inline">\(K\)</span> parameters that satisfy more that <span class="math inline">\(K\)</span> conditions simultaneously
<ul>
<li>So we look for parameters that get as close as possible to satisfying all moment conditions <span class="math inline">\(\rightarrow\)</span> we minimize deviations from zero, weighted by a <span class="math inline">\(M\times M\)</span> matrix <span class="math inline">\(W\)</span></li>
</ul></li>
</ul>
</div>
</section>
<section id="gmm-general-case-3" class="slide level2">
<h2>GMM: General case</h2>
<ol start="4" type="1">
<li>Compute <span class="math inline">\(V(\hat{\theta}_{GMM})\)</span>, the variance-covariance matrix of the estimates</li>
</ol>
<ul>
<li>More on that soon</li>
</ul>
</section>
<section id="properties-of-gmm" class="slide level2">
<h2>Properties of GMM</h2>
<p>Under some <em>regularity conditions</em>, GMM has the following properties</p>
<ol type="1">
<li>Consistency</li>
<li>Asymptotic normality</li>
</ol>
<div class="fragment">
<ul>
<li>Note that, unlike MLE, GMM is not asymptotically efficient</li>
</ul>
<p>These properties require some assumptions on the empirical moments</p>
</div>
</section>
<section id="properties-of-gmm-empirical-moments-assumption" class="slide level2">
<h2>Properties of GMM: empirical moments assumption</h2>
<p>We assume the following about empirical moments at the true parameter value, <span class="math inline">\(\theta_0\)</span></p>
<ol type="1">
<li>Empirical moments obey the law of large numbers <span class="math display">\[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta_0) \stackrel{p}{\rightarrow} 0\]</span></li>
</ol>
<div class="fragment">
<ol start="2" type="1">
<li>The derivatives of the empirical moments converge to the <span class="math inline">\(M \times K\)</span> Jacobian matrix <span class="math display">\[D_N(\theta_0) = \frac{1}{N} \sum_{i=1}^N \left.\frac{\partial g(z_i; \theta)}{\partial \theta^\prime}\right|_{\theta=\theta_0} \stackrel{p}{\rightarrow}  D_0 \equiv D(\theta_0) = E\left[\frac{\partial g(z_i; \theta_0)}{\partial \theta_0^\prime}\right]\]</span></li>
</ol>
</div>
</section>
<section id="properties-of-gmm-empirical-moments-assumption-1" class="slide level2">
<h2>Properties of GMM: empirical moments assumption</h2>
<ol start="3" type="1">
<li>Empirical moments obey the central limit theorem</li>
</ol>
<p><span class="math display">\[\sqrt{N}\frac{1}{N} \sum_{i=1}^N g(z_i; \theta_0) \stackrel{d}{\rightarrow} \mathcal{N}(0, S_0)\]</span></p>
<p>where <span class="math inline">\(S_0 = E[g(z_i; \theta_0) g(z_i; \theta_0)^\prime]\)</span> is the variance-covariance matrix of moments (an <span class="math inline">\(M\times M\)</span> matrix)</p>
<div class="fragment">
<ul>
<li>We also need to assume that the weighting matrix converges to <span class="math inline">\(W_0\)</span>, a finite symmetric positive definite matrix</li>
</ul>
<p><span class="math display">\[W \stackrel{p}{\rightarrow}W_0\]</span></p>
</div>
</section>
<section id="properties-of-gmm-consistency" class="slide level2">
<h2>Properties of GMM: consistency</h2>
<p><span class="math display">\[\hat{\theta}_{GMM} \stackrel{p}{\rightarrow} \theta_0\]</span></p>
<p>As sample size grows to infinity, <span class="math inline">\(\hat{\theta}_{GMM}\)</span> gets arbitrarily close to the true parameter value, <span class="math inline">\(\theta_0\)</span></p>
</section>
<section id="properties-of-gmm-asymptotic-normality" class="slide level2">
<h2>Properties of GMM: Asymptotic normality</h2>
<div class="fragment">
<p><span class="math display">\[\sqrt{N}(\hat{\theta}_{GMM}-\theta_0) \stackrel{d}{\rightarrow} \mathcal{N}\left(0, V_0\right)\]</span></p>
<p>where <span class="math inline">\(V_0\)</span> has a typical <em>sandwich form</em></p>
<p><span class="math display">\[V_0 = \underbrace{(D_0^\prime W_0 D_0)^{-1}}_{\text{bread}}\underbrace{(D_0^\prime W_0 S_0 W_0 D_0)}_{\text{filling}} \underbrace{(D_0^\prime W_0 D_0)^{-1}}_{\text{bread}}\]</span></p>
</div>
<div class="fragment">
<p>As the sample size grows to infinity, the distribution of <span class="math inline">\(\hat{\theta}_{GMM}\)</span> converges to a normal distribution with mean as the true parameter value and a particular Variance-Covariance structure</p>
</div>
</section>
<section id="gmm-variance-estimator" class="slide level2">
<h2>GMM variance estimator</h2>
<p>Any valid weighting matrix <span class="math inline">\(W\)</span> yields a consistent GMM estimator</p>
<p>But the choice of <span class="math inline">\(W\)</span> affects variance, so we want to use some optimal <span class="math inline">\(W\)</span> that minimizes the variance of the estimator</p>
<div class="fragment">
<p>It can be shown that the <strong>optimal weigthing matrix</strong> is given by</p>
<p><span class="math display">\[W_0 = S_0^{-1} = \left\{E[g(z_i; \theta_0) g(z_i; \theta_0)^\prime]\right\}^{-1}\]</span></p>
<p>which yields<sup>1</sup></p>
<p><span class="math display">\[V_0 = (D_0^\prime S_0^{-1} D_0)^{-1}\]</span></p>
</div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>This is the “non-robust” VCOV matrix, i.e., assuming homoskedasticity and no clustering/residual correlation structure. Check references to see how to construct robust versions.</p></li></ol></aside></section>
<section id="computing-hattheta_gmm" class="slide level2">
<h2>Computing <span class="math inline">\(\hat{\theta}_{GMM}\)</span></h2>
<p>This is the objective function for GMM</p>
<p><span class="math display">\[\hat{\theta}_{GMM} = \arg \min_\theta Q_N(\theta), \; Q_N(\theta) = \left[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta)\right]^\prime W \left[\frac{1}{N} \sum_{i=1}^N g(z_i; \theta)\right]\]</span></p>
<p>Once again, we can use numerical optimization to calculate <span class="math inline">\(\hat{\theta}_{GMM}\)</span></p>
<div class="fragment">
<p>But what <span class="math inline">\(W\)</span> do we use?</p>
</div>
</section>
<section id="computing-hattheta_gmm-1" class="slide level2">
<h2>Computing <span class="math inline">\(\hat{\theta}_{GMM}\)</span></h2>
<p>Technically, the GMM estimator is consistent for any symmetric positive definite matrix</p>
<p>But different matrices give different variances <span class="math inline">\(\rightarrow\)</span> we want to pick <span class="math inline">\(W\)</span> that minimizes variance</p>
<div class="fragment">
<p>This is, the sample analogue of the <strong>optimal weigthing matrix</strong></p>
<p><span class="math display">\[\hat{W} = \hat{S}^{-1} = \left\{E[g(z_i; \hat{\theta}) g(z_i; \hat{\theta})^\prime]\right\}^{-1}\]</span></p>
</div>
<div class="fragment">
<p>But we have a chicken and egg problem here: we need <span class="math inline">\(\hat{W}\)</span> to estimate <span class="math inline">\(\hat{\theta}\)</span> but we need <span class="math inline">\(\hat{\theta}\)</span> to get <span class="math inline">\(\hat{W}\)</span>!</p>
</div>
</section>
<section id="computing-hattheta_gmm-2-step-gmm" class="slide level2">
<h2>Computing <span class="math inline">\(\hat{\theta}_{GMM}\)</span>: 2-step GMM</h2>
<p>One way to solve this problem is to apply a widely-used algorithm: the <strong>2-step GMM</strong></p>
<div class="fragment">
<p><strong>Step 1</strong></p>
<ul>
<li>Using <span class="math inline">\(W = I\)</span> (identity matrix), estimate <span class="math inline">\(\hat{\theta}_1\)</span>
<ul>
<li>Alternatives exist, but we are going to stick with the simplest here . . .</li>
</ul></li>
<li>With <span class="math inline">\(\hat{\theta}_1\)</span>, calculate <span class="math inline">\(\hat{W} = \left\{E[g(z_i; \hat{\theta}) g(z_i; \hat{\theta})^\prime]\right\}^{-1}\)</span></li>
</ul>
</div>
</section>
<section id="computing-hattheta_gmm-2-step-gmm-1" class="slide level2">
<h2>Computing <span class="math inline">\(\hat{\theta}_{GMM}\)</span>: 2-step GMM</h2>
<p><strong>Step 2</strong></p>
<ul>
<li>Using <span class="math inline">\(\hat{W}\)</span> from step 1, estimate <span class="math inline">\(\hat{\theta}_{GMM}\)</span></li>
</ul>
<div class="fragment">
<ul>
<li>Recalculate <span class="math inline">\(\hat{S}^{-1} = \left\{E[g(z_i; \hat{\theta}) g(z_i; \hat{\theta})^\prime]\right\}^{-1}\)</span></li>
<li>Calculate <span class="math inline">\(\hat{D} = \frac{1}{N} \sum_{i=1}^N \frac{\partial g(z_i; \hat{\theta}_{GMM})}{\partial \theta^\prime}\)</span></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Then, calculate the asymptotic Variance-Covariance matrix <span class="math inline">\(V(\hat{\theta}_{GMM}) = (\hat{D}^\prime \hat{S}^{-1} \hat{D})^{-1}\)</span></li>
</ul>
</div>
</section></section>
<section>
<section id="gmm-hypothesis-and-specification-tests" class="title-slide slide level1 center">
<h1>GMM hypothesis and specification tests</h1>

</section>
<section id="hypothesis-tests-for-gmm" class="slide level2">
<h2>Hypothesis tests for GMM</h2>
<p>Again, we will consider a generic null hypothesis we want to test</p>
<p><span class="math display">\[
H_0: c(\theta) = 0
\]</span></p>
<p>There are three commonly used tests for GMM estimation that are analogous to the ones we covered for MLE.</p>
<ul>
<li>D-test</li>
<li>Wald (W) test</li>
<li>Lagrange Multiplier (LM) test</li>
</ul>
</section>
<section id="hypothesis-tests-common-assumptions" class="slide level2">
<h2>Hypothesis tests: common assumptions</h2>
<ol type="1">
<li>All the tests will assume we have GMM estimates using the efficient weighting matrix (estimated, for example, with the 2-step procedure).</li>
<li>The <strong>unrestricted</strong> GMM estimate <span class="math inline">\(\hat\theta_u\)</span> is estimated by minimizing the objective function <span class="math inline">\(Q_N(\theta) = g_N(\theta)^\prime S_N^{-1} g_N(\theta)^\prime\)</span>
<ul>
<li>where <span class="math inline">\(g_N(\theta) = N^{-1} \sum_i g(z_i;\theta)\)</span> and <span class="math inline">\(S_N\)</span> is consistent for <span class="math inline">\(S_0 = V[g_N(\theta)]\)</span></li>
</ul></li>
<li>The <strong>restricted</strong> GMM estimate <span class="math inline">\(\hat\theta_r\)</span> is estimated by minimizing the objective function <span class="math inline">\(Q_N(\theta)\)</span> subject to constraint <span class="math inline">\(c(\theta) = 0\)</span></li>
</ol>
</section>
<section id="d-test" class="slide level2">
<h2>D-test</h2>
<p>The D-test is analogous to the Likelihood Ratio as it is based on the differences of the objective functions when evaluated at the restricted and the unrestricted estimates. The D-statistics is given by</p>
<p><span class="math display">\[
D = N \left[Q_N(\hat\theta_r) - Q_N(\hat\theta_u)\right] \sim \chi^2_{[df]}
\]</span></p>
<p>where <span class="math inline">\(df\)</span> is again the number of restrictions imposed.</p>
<p>As in the LR test, we need to estimate both the unrestricted and the restricted models to obtain the D-statistic.</p>
</section>
<section id="wald-test" class="slide level2">
<h2>Wald test</h2>
<p>As in the MLE case, the Wald statistic is based on how close <span class="math inline">\(c(\hat\theta)\)</span> is to zero</p>
<p><span class="math display">\[
W = c(\hat\theta_u)^\prime V\left[c(\hat\theta_u)\right]c(\hat\theta_u) \sim \chi^2_{[df]}
\]</span></p>
<p>where <span class="math inline">\(df\)</span> is again the number of restrictions imposed and <span class="math inline">\(V(\hat{c})\)</span> is the asymptotic variance of <span class="math inline">\(c\)</span>, which now is given by</p>
<p><span class="math display">\[
V[c(\hat\theta)] = \left[\frac{\partial c(\hat\theta)}{\partial \hat\theta^\prime}\right]\left[V(\hat\theta)\right]^{-1}\left[\frac{\partial c(\hat\theta)}{\partial \hat\theta^\prime}\right]^\prime
\]</span></p>
<p>and <span class="math inline">\(V(\hat{\theta}) = (\hat{D}^\prime \hat{S}^{-1} \hat{D})^{-1}\)</span> and <span class="math inline">\(\hat{D} = \frac{\partial g_N(\hat\theta)}{\partial \theta^\prime}\)</span>.</p>
</section>
<section id="lm-test" class="slide level2">
<h2>LM test</h2>
<p>The LM test is again based on how close the gradient of the objective function is to zero. The idea is that, if the restricted estimate is indeed valid, the gradients should approximately satisty the FOC.</p>
<p>This gives the LM statistics</p>
<p><span class="math display">\[
LM = N g(\hat\theta_r)^\prime  \hat{S}^{-1} D(\hat\theta_r) \left[D(\hat\theta_r)^\prime \hat{S}^{-1} D(\hat\theta_r)\right] D(\hat\theta_r)^\prime \hat{S}^{-1} g(\hat\theta_r) \sim \chi^2_{[df]}
\]</span></p>
<p>where <span class="math inline">\(S\)</span>, <span class="math inline">\(D\)</span> and <span class="math inline">\(df\)</span> are defined in the previous slides.</p>
</section>
<section id="specification-test-overidentifying-restrictions" class="slide level2">
<h2>Specification test: Overidentifying Restrictions</h2>
<p>GMM has a general specification test that can be used when there are more moment conditions than parameters (i.e., an overidentified system).</p>
</section></section>
<section>
<section id="gmm-in-practice" class="title-slide slide level1 center">
<h1>GMM in practice</h1>

</section>
<section id="gmm-in-practice-setup" class="slide level2">
<h2>GMM in practice: setup</h2>
<p>We will repeat the exercise of estimating simple linear model using GMM. Again, the model is</p>
<p><span class="math display">\[
y_i = \beta_0 + \beta_1 x_i + \epsilon_i
\]</span></p>
<ul>
<li><span class="math inline">\(y_i\)</span> is the dependent variable</li>
<li><span class="math inline">\(x_i\)</span> is the independent variable</li>
<li><span class="math inline">\(\beta_0\)</span> is the intercept</li>
<li><span class="math inline">\(\beta_1\)</span> is the slope coefficient</li>
<li><span class="math inline">\(\epsilon_i\)</span> is the error term, which we assume follows a normal distribution with mean zero and variance <span class="math inline">\(\sigma^2\)</span>, i.e., <span class="math inline">\(\epsilon_i \sim N(0, \sigma^2)\)</span></li>
</ul>
<p>We will refer generically to <span class="math inline">\(\theta = [\beta_0, \beta_1]\)</span> as the parameter vector we are estimating.</p>
</section>
<section id="gmm-in-practice-fake-data" class="slide level2">
<h2>GMM in practice: fake data</h2>
<p>Let’s generate the same fake data for our estimation assuming true values <span class="math inline">\(\beta_0 = 2, \beta_1 = 3, \sigma = 1.5\)</span></p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1"></a><span class="im">using</span> <span class="bu">Statistics</span>, <span class="bu">Random</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co"># Generate some synthetic data for illustration</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="bu">Random</span>.<span class="fu">seed!</span>(<span class="fl">652</span>) <span class="co"># Set random seed for reproducibility</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>N <span class="op">=</span> <span class="fl">1000</span>  <span class="co"># Number of observations</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>X <span class="op">=</span> <span class="fu">rand</span>(N) <span class="op">*</span> <span class="fl">10</span>  <span class="co"># Independent variable: random uniform [0,10]</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>β<span class="fl">0</span>_true <span class="op">=</span> <span class="fl">2.0</span>  <span class="co"># True intercept</span></span>
<span id="cb1-7"><a href="#cb1-7"></a>β<span class="fl">1</span>_true <span class="op">=</span> <span class="fl">3.0</span>  <span class="co"># True slope</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>σ_true <span class="op">=</span> <span class="fl">1.5</span>  <span class="co"># True standard deviation of the errors</span></span>
<span id="cb1-9"><a href="#cb1-9"></a>ε <span class="op">=</span> <span class="fu">randn</span>(N) <span class="op">*</span> σ_true  <span class="co"># Normally distributed errors</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>Y <span class="op">=</span> β<span class="fl">0</span>_true <span class="op">.+</span> β<span class="fl">1</span>_true <span class="op">.*</span> X <span class="op">.+</span> ε  <span class="co"># Dependent variable</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>1000-element Vector{Float64}:
 21.67019447290482
 28.90711926428413
 16.442940381636067
 22.364903307770113
 16.223008723288245
  9.150914155735176
  6.494370868789826
 29.190769080962113
  8.845913560652406
 19.768418811032205
  8.768806341579456
 28.905029646813723
 12.30335776513745
  ⋮
 11.360611536318569
 19.1496946598927
 25.457203383492395
  1.4494239993093165
  9.673970881293892
 20.211214574506702
  9.796687093954356
 24.24916530921735
 17.096168925423544
  5.155534028613376
 17.977179360988384
 16.455682148662746</code></pre>
</div>
</div>
</section>
<section id="gmm-in-practice-moment-conditions" class="slide level2">
<h2>GMM in practice: moment conditions</h2>
<p>First, we need to establish the moment conditions. Following the classical linear regression results, we have that</p>
<p><span class="math display">\[
\begin{align}
E[\epsilon] = 0 \\
E[x \epsilon] = 0
\end{align}
\]</span></p>
<p>So we have two moment conditions to estimate two parameters.</p>
<div class="fragment">
<p>Recall that <span class="math inline">\(\epsilon_i = y_i - \beta_0 - \beta_1 x_i\)</span>. So, we define</p>
<p><span class="math display">\[
g\left(y_i, x_i; \theta\right) = g\left(\left[\begin{matrix}\beta_0 \\ \beta_1\end{matrix} \right]\right) = \left[\begin{matrix}y_i - \beta_0 - \beta_1 x_i \\ x_i(y_i - \beta_0 - \beta_1 x_i)\end{matrix} \right]
\]</span></p>
</div>
</section>
<section id="gmm-in-practice-moment-conditions-1" class="slide level2">
<h2>GMM in practice: moment conditions</h2>
<p>Next, we program function <code>g_i(θ)</code> that receives parameter vector <span class="math inline">\(\theta\)</span> and returns those two moment conditions for all observations (<span class="math inline">\(N \times 2\)</span> matrix).</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1"></a><span class="kw">function</span> <span class="fu">g_i</span>(θ; Y <span class="op">=</span> Y, X <span class="op">=</span> X)</span>
<span id="cb3-2"><a href="#cb3-2"></a>  β_0, β_1 <span class="op">=</span> θ <span class="co"># Unpack parameters</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>  ϵ <span class="op">=</span> Y <span class="op">.-</span> β_0 <span class="op">.-</span> β_1 <span class="op">.*</span> X</span>
<span id="cb3-4"><a href="#cb3-4"></a>  <span class="cf">return</span> <span class="fu">hcat</span>(ϵ, X<span class="op">.*</span>ϵ) <span class="co"># Concatenate horizontally</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="kw">end</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Testing with some parameter values.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1"></a>G <span class="op">=</span> <span class="fu">g_i</span>([<span class="fl">0.0</span>, <span class="fl">0.0</span>], Y<span class="op">=</span>Y, X<span class="op">=</span>X);</span>
<span id="cb4-2"><a href="#cb4-2"></a>G[<span class="fl">1</span><span class="op">:</span><span class="fl">6</span>,<span class="op">:</span>] <span class="co"># See the first few lines</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>6×2 Matrix{Float64}:
 21.6702   133.22
 28.9071   276.875
 16.4429    78.751
 22.3649   169.115
 16.223     71.2158
  9.15091   18.6789</code></pre>
</div>
</div>
</div>
</section>
<section id="gmm-in-practice-moment-conditions-2" class="slide level2">
<h2>GMM in practice: moment conditions</h2>
<p>And recall that we write the sample analogue: <span class="math inline">\(g_N(\theta) = \frac{1}{N} \sum_{i=1}^N g(y_i, x_i;\theta)\)</span></p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1"></a><span class="kw">function</span> <span class="fu">g_N</span>(θ; Y <span class="op">=</span> Y, X <span class="op">=</span> X)</span>
<span id="cb6-2"><a href="#cb6-2"></a>  N <span class="op">=</span> <span class="fu">length</span>(Y) <span class="co"># Number of obs</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="co"># Get moment vectors</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  g_Ns <span class="op">=</span> <span class="fu">g_i</span>(θ; Y <span class="op">=</span> Y, X <span class="op">=</span> X)</span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="co"># Take means of each column and return</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="cf">return</span> [<span class="fu">sum</span>(g_Ns[<span class="op">:</span>, k]) for k <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>] <span class="op">./</span> N</span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="kw">end</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="fragment">
<p>Testing with some parameter values.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1"></a><span class="fu">g_N</span>([<span class="fl">0.0</span>, <span class="fl">0.0</span>], Y<span class="op">=</span>Y, X<span class="op">=</span>X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>2-element Vector{Float64}:
  16.91885348772398
 109.2561898066229</code></pre>
</div>
</div>
</div>
</section>
<section id="gmm-in-practice-objective-function" class="slide level2">
<h2>GMM in practice: objective function</h2>
<ul>
<li>Since we have 2 moment conditions and two parameters, this is technical an exactly identified GMM, which is equivalent to the standard method of moments and does not need the weighting matrix.
<ul>
<li>Regardless we will keep the weighting matrix to demonstrate all the steps.</li>
</ul></li>
</ul>
<div class="fragment">
<p>The objective function therefore is</p>
<p><span class="math display">\[
Q_N(\theta) = g_N(z_i;\theta)^\prime W g_N(\theta)
\]</span></p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1"></a><span class="kw">function</span> <span class="fu">Q_N</span>(θ; W <span class="op">=</span> W, Y <span class="op">=</span> Y, X <span class="op">=</span> X)</span>
<span id="cb9-2"><a href="#cb9-2"></a>    <span class="cf">return</span> <span class="fu">g_N</span>(θ; Y<span class="op">=</span>Y, X<span class="op">=</span>X)<span class="ch">' * W * g_N(θ; Y=Y, X=X)</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="kw">end</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Testing with some an initial guess and the identity matrix as the weighting matrix.</p>
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>θ_0 <span class="op">=</span> [<span class="fl">0.0</span>, <span class="fl">0.0</span>] <span class="co"># Initial guess</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>W_0 <span class="op">=</span> <span class="fu">I</span>(<span class="fl">2</span>) <span class="co"># 2x2 identity matrix</span></span>
<span id="cb10-4"><a href="#cb10-4"></a><span class="fu">Q_N</span>([<span class="fl">0.0</span>, <span class="fl">0.0</span>], W<span class="op">=</span>W_0, Y<span class="op">=</span>Y, X<span class="op">=</span>X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>12223.16261439988</code></pre>
</div>
</div>
</div>
</section>
<section id="gmm-in-practice-step-1" class="slide level2">
<h2>GMM in practice: step 1</h2>
<p>Next, we will do step 1 of the efficient GMM estimation. The GMM estimate is defined as <span class="math inline">\(\hat{\theta} = \arg \min_\theta Q_N(\theta)\)</span></p>
<p>Since our parameters are unconstrained, we can program our optimization using Optim.</p>
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1"></a><span class="im">using</span> <span class="bu">Optim</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>res_step_1 <span class="op">=</span> Optim.<span class="fu">optimize</span>(θ <span class="op">-&gt;</span> <span class="fu">Q_N</span>(θ; W <span class="op">=</span> W_0), θ_0, <span class="fu">Newton</span>())</span>
<span id="cb12-3"><a href="#cb12-3"></a>θ_1 <span class="op">=</span> res_step_1.minimizer <span class="co"># Step 1 estimate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>2-element Vector{Float64}:
 2.115784665111538
 2.971465985897643</code></pre>
</div>
</div>
</section>
<section id="gmm-in-practice-hatw" class="slide level2">
<h2>GMM in practice: <span class="math inline">\(\hat{W}\)</span></h2>
<p>With the estimates of step 1, we can now estimate the optimal weighting matrix <span class="math inline">\(\hat{W}\)</span></p>
<p><span class="math display">\[
\hat{W} = \hat{S}^{-1} = \left\{E[g(y_i, x_i; \hat{\theta}) g(y_i, x_i; \hat{\theta})^\prime]\right\}^{-1}
\]</span></p>
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1"></a>W_hat <span class="op">=</span> <span class="fu">inv</span>(<span class="fu">g_i</span>(θ_1)<span class="ch">'  * g_i(θ_1) ./N)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>2×2 Matrix{Float64}:
  1.78631  -0.2701
 -0.2701    0.054656</code></pre>
</div>
</div>
</section>
<section id="gmm-in-practice-step-2" class="slide level2">
<h2>GMM in practice: step 2</h2>
<p>We can now obtain the final estimates by repeating the optimization with <span class="math inline">\(\hat{W}\)</span>.</p>
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb16-1"><a href="#cb16-1"></a>res_step_2 <span class="op">=</span> Optim.<span class="fu">optimize</span>(θ <span class="op">-&gt;</span> <span class="fu">Q_N</span>(θ; W <span class="op">=</span> W_hat), θ_0, <span class="fu">Newton</span>())</span>
<span id="cb16-2"><a href="#cb16-2"></a>θ_2 <span class="op">=</span> res_step_2.minimizer <span class="co"># Step 2 estimate</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<pre><code>2-element Vector{Float64}:
 2.115784665111508
 2.9714659858976464</code></pre>
</div>
</div>
<div class="fragment">
<p><em>We get pratically the same estimates in step 2 because the weighting matrix doesn’t really matter in the exactly identified case</em>.</p>
</div>
</section>
<section id="gmm-in-practice-standard-errors" class="slide level2">
<h2>GMM in practice: standard errors</h2>
<p>Recall <span class="math display">\[
V(\hat{\theta}) = \frac{1}{N}(\hat{D}^\prime \hat{S}^{-1} \hat{D})^{-1}
\]</span></p>
<p>where:</p>
<ul>
<li><span class="math inline">\(\hat{D} = E\left[\frac{\partial g(y_i, x_i; \hat{\theta})}{\partial \hat{\theta}^\prime}\right]\)</span></li>
<li><span class="math inline">\(\hat{S} = E\left[g_i(z_i; \hat{\theta}) g_i(z_i;\hat{\theta})^\prime\right]\)</span></li>
</ul>
<p>To calculate <span class="math inline">\(\hat{D}\)</span>, we can use a numerical method!</p>
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb18-1"><a href="#cb18-1"></a><span class="im">using</span> <span class="bu">ForwardDiff</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>D_hat <span class="op">=</span> ForwardDiff.<span class="fu">jacobian</span>(g_N, θ_2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>2×2 Matrix{Float64}:
 -1.0       -4.98174
 -4.98174  -33.2213</code></pre>
</div>
</div>
</section>
<section id="gmm-in-practice-standard-errors-1" class="slide level2">
<h2>GMM in practice: standard errors</h2>
<p>Calculating the other components.</p>
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb20-1"><a href="#cb20-1"></a>S_hat <span class="op">=</span> <span class="fu">g_i</span>(θ_2)<span class="ch">'  * g_i(θ_2) ./N</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<pre><code>2×2 Matrix{Float64}:
  2.21471  10.9447
 10.9447   72.3829</code></pre>
</div>
</div>
<div class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb22-1"><a href="#cb22-1"></a>V_hat <span class="op">=</span> <span class="fu">inv</span>(D_hat<span class="op">'</span> <span class="op">*</span> <span class="fu">inv</span>(S_hat) <span class="op">*</span> D_hat) <span class="op">./</span>N</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">
<pre><code>2×2 Matrix{Float64}:
  0.00875061  -0.00130145
 -0.00130145   0.000259132</code></pre>
</div>
</div>
<p>So, the standard errors are the square root of the diagonal elements.</p>
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb24-1"><a href="#cb24-1"></a>SEs <span class="op">=</span> <span class="fu">sqrt</span>.(<span class="fu">diag</span>(V_hat))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="34">
<pre><code>2-element Vector{Float64}:
 0.09354468036028733
 0.016097563221981737</code></pre>
</div>
</div>
</section>
<section id="mle-in-practice-estimation-results" class="slide level2">
<h2>MLE in practice: estimation results</h2>
<p>Again, we can organize the results in a table and print them nicely with 95% confidence intervals</p>
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource julia number-lines code-with-copy"><code class="sourceCode julia"><span id="cb26-1"><a href="#cb26-1"></a><span class="im">using</span> <span class="bu">DataFrames</span>, <span class="bu">Distributions</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>df <span class="op">=</span> <span class="fu">DataFrame</span>(</span>
<span id="cb26-3"><a href="#cb26-3"></a>  Coefficient <span class="op">=</span> [<span class="st">"beta_0"</span>, <span class="st">"beta_1"</span>],</span>
<span id="cb26-4"><a href="#cb26-4"></a>  Estimate <span class="op">=</span> θ_2,</span>
<span id="cb26-5"><a href="#cb26-5"></a>  StdError <span class="op">=</span> SEs,</span>
<span id="cb26-6"><a href="#cb26-6"></a>  CI_lower <span class="op">=</span> θ_2 <span class="op">.+</span> <span class="fu">quantile</span>(<span class="fu">Normal</span>(), <span class="fl">0.025</span>) <span class="op">.*</span> SEs,</span>
<span id="cb26-7"><a href="#cb26-7"></a>  CI_upper <span class="op">=</span> θ_2 <span class="op">.+</span> <span class="fu">quantile</span>(<span class="fu">Normal</span>(), <span class="fl">0.975</span>) <span class="op">.*</span> SEs</span>
<span id="cb26-8"><a href="#cb26-8"></a>)</span>
<span id="cb26-9"><a href="#cb26-9"></a></span>
<span id="cb26-10"><a href="#cb26-10"></a><span class="fu">println</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2×5 DataFrame
 Row │ Coefficient  Estimate  StdError   CI_lower  CI_upper 
     │ String       Float64   Float64    Float64   Float64  
─────┼──────────────────────────────────────────────────────
   1 │ beta_0        2.11578  0.0935447   1.93244   2.29913
   2 │ beta_1        2.97147  0.0160976   2.93992   3.00302</code></pre>
</div>
</div>
</section></section>
<section>
<section id="mle-vs-gmm" class="title-slide slide level1 center">
<h1>MLE vs GMM</h1>

</section>
<section id="mle-vs-gmm-1" class="slide level2">
<h2>MLE vs GMM</h2>
<p>It’s the same old <strong>bias (or robustness) vs.&nbsp;efficiency trade-off</strong></p>
<div class="fragment">
<ul>
<li>With MLE, we need to make assumption on distributions of unobservables
<ul>
<li>When our assumptions are correct, MLE is more efficient <span class="math inline">\(\rightarrow\)</span> lower variance</li>
<li>Has good small sample properties (less bias, more efficiency with small data)</li>
<li>If our assumptions are inadequate, estimates are more biased</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>With GMM, we don’t need to assume distributions and can rely only on moment conditions from the theoretical and statistical model
<ul>
<li>This is more robust <span class="math inline">\(=\)</span> less bias</li>
<li>Has good large sample properties (less bias, more efficiency with large data)</li>
<li>But it’s in general less efficient than MLE <span class="math inline">\(\rightarrow\)</span> higher variance</li>
</ul></li>
</ul>
</div>
</section>
<section id="choosing-between-mle-and-gmm" class="slide level2">
<h2>Choosing between MLE and GMM</h2>
<ul>
<li><em>How much data is available?</em>
<ul>
<li>Large data sets favor GMM: good large sample properties require fewer assumptions. Smaller data sets might require stronger distributional assumptions <span class="math inline">\(\rightarrow\)</span> MLE</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><em>How complex is the model?</em>
<ul>
<li>MLE is better suited for linear and quadratic models, but technically difficult to compute with highly nonlinear models. For the latter case, GMM might be better</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><em>How comfortable are you making distributional assumptions?</em>
<ul>
<li>MLE requires you to fully specify distributions. If there is good theoretical grounding for these assumptions, MLE is a good idea. Otherwise, GMM is the more attractive option</li>
</ul></li>
</ul>
<div class="footer footer-default">

</div>
</div>
</section></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="7_1_GMM_review_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="7_1_GMM_review_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="7_1_GMM_review_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true,"theme":"whiteboard","chalkEffect":0.1},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>